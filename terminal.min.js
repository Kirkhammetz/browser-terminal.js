!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports={name:"browser-terminal.js",version:"0.0.1",description:"Simple Browser Terminal in pure js for presentational purpose",main:"terminal.js",scripts:{start:"npm run build",build:" browserify ./src/terminal.js -o ./terminal.js && uglifyjs terminal.js > terminal.min.js",watch:"watchify ./src/terminal.js -o 'uglifyjs -cm > terminal.min.js' --verbose --debug"},keywords:["terminal","javascript","simulator","browser","presentation","mockup","commands","fake"],repository:"https://github.com/Kirkhammetz/browser-terminal.js",author:"Simone Corsi",license:"ISC",devDependencies:{axios:"^0.12.0",browserify:"^13.0.1","uglify-js":"^2.6.4",watchify:"^3.7.0"}}},{}],2:[function(e,t,n){var r=e("../package.json"),i={help:function(){var e=[];for(var t in this)this.hasOwnProperty(t)&&e.push(t);return e},about:{name:r.name||"",version:r.version||"",author:r.author||"",repository:r.repository||"",license:r.license||""},clear:function(){return"SGCLEAR"},exit:function(){return"SGEXIT"},ls:function(){return this.__filesystem.__ls()},cat:function(e){return this.__filesystem.__cat(e)},cd:function(e){return this.__filesystem.__cd(e)},pwd:function(){return this.__filesystem.__pwd()}};i.__proto__.__filesystem=e("./filesystem"),i.__proto__.__initFS=function(e){i.__filesystem.__initFS(e)},t.exports=i},{"../package.json":1,"./filesystem":3}],3:[function(e,t,n){function r(e){return"-r--r--r-- guest guest "+e}function i(e){return"dr-xr-xr-x guest guest "+e}var o={"var":{www:{anotherfile:"WELLCOME"},inner:{}},etc:{apache2:{"apache2.conf":"Not what you are looking for"}},"thisisafile.md":"What did you expect?"};o.__initFS=function(e){e&&(o=e)},o.__proto__.pwd="/",o.__proto__.__pwd=function(){return this.pwd},o.__proto__.setCurrentDir=function(e){this.__proto__.pwd="/"+e},o.__proto__.getCurrentDirIstance=function(){var e=o.__pwd().split("/");if(e.shift(),""!==e[0]){var t=this.getNode(o,e);return Object.assign({},t)}return Object.assign({},o)},o.__proto__.__filetype=function(e){return"string"==typeof e?"FILE":"object"!=typeof e||Array.isArray(e)?void 0:"DIR"},o.__proto__.getNode=function(e,t){if(0===t.length||!t)return console.error("no path provided"),null;var e=Object.assign({},e),t=Object.assign([],t);return 1===t.length?e?e&&!e[t[0]]?(console.error("path "+t[0]+" dont exists"),null):"FILE"===o.__filetype(e[t[0]])?(console.error("its a file"),null):Object.assign({},e[t[0]]):(console.error("path "+t[0]+" dont exists"),null):(e=e[t[0]]?e[t[0]]:null,t.shift(),o.getNode(e,t))},o.__proto__.__ls=function(){var e=[],t=this,n=o.getCurrentDirIstance();for(var s in n)if(n.hasOwnProperty(s)){var a="";"DIR"===t.__filetype(n[s])?a=i(s):"FILE"===t.__filetype(n[s])&&(a=r(s)),e.push(a)}return e},o.__proto__.__cat=function(e){var t=this,n=o.getCurrentDirIstance();if(!e)return"cat need 1 input file.";var r=n[e[0]]||null;return r?"DIR"===t.__filetype(r)?"Is a directory.":r:"File not found."},o.__proto__.__cd=function(e){if(!e)return"Path argument expected.";if(e.length>1)return"Too many arguments";var t=e[0];if(".."===t)return"go back 1 dir";if("/"===t[0]){if(t=t.split("/"),t.shift(),""===t[0])return o.setCurrentDir(""),e}else t=1===o.__pwd().length?o.__pwd()+t:o.__pwd()+"/"+t,t=t.split("/"),t.shift();var n=o.getNode(o,t);return n?(this.setCurrentDir(t.join("/")),"Changed current dir to: "+this.__pwd()):"Path dont exists or is a file"},t.exports=o},{}],4:[function(e,t,n){!function(t,n,r){var i={init:function(r,i,o){this.Commands=e("./commands"),this.Commands.__initFS(o||null),i&&this.addCustomCommands(i),this.terminal_container=r,this.generateRow(r),t.addEventListener("click",function(){n.getElementsByClassName("current")[0].children[1].focus()})},generateTerminalRow:function(){var e=this;return'        <span class="term_head" style="color:lightgreen;">guest@'+(location.hostname?location.hostname:"localhost")+"         âžœ "+e.Commands.pwd()+' </span>         <input type="text" class="command_input" size="1" style="cursor:none;">       '},addCustomCommands:function(e){for(var t in e)e.hasOwnProperty(t)&&!this.Commands[t]&&(this.Commands[t]=e[t])},generateRow:function(e){var t,r,i,o=this;t=n.createElement("div"),r=n.querySelectorAll(".current")[0],r&&(r.children[1].disabled=!0,r.className="inner_terminal"),t.className="current inner_terminal",t.innerHTML=this.generateTerminalRow(),e.appendChild(t),r=e.querySelector(".current"),i=r.children[1],i.focus(),i.addEventListener("keyup",o.consoleTypingHandler)},getSTDIN:function(e){var t=e.trim().split(" "),n=this.parseCommand(t);n&&this.sendSTDOUT(n)},sendSTDOUT:function(e,t){var r=n.createElement("pre");r.innerText=e,this.terminal_container.appendChild(r),t||this.generateRow(this.terminal_container)},parseCommand:function(e){var t=this,n=this.Commands;command=e.shift();for(var r in n)if(n.hasOwnProperty(r)&&command===r){var i,o="function"==typeof n[r]?n[r](e.length?e:null):n[r];switch(!0){case"string"==typeof o&&"SGEXIT"===o:return t.exitHandler(),null;case"string"==typeof o&&"SGCLEAR"===o:return t.clearHandler(),null;case"string"==typeof o:i=o;break;case"object"==typeof o&&Array.isArray(o):i=o.join("\n");break;case"object"==typeof o&&!Array.isArray(o):i=JSON.stringify(o,null,2);break;default:return o}return i}return"Command not found: type help for list of commands."},exitHandler:function(){this.sendSTDOUT("Bye bye!",!0),setTimeout(function(){location.reload()},1e3)},clearHandler:function(){this.terminal_container.innerHTML="",this.init(this.terminal_container)},consoleTypingHandler:function(e){var t=this,n=(t.size,t.value),r=e.which||e.keyCode;return 13===r?void i.getSTDIN(t.value):(r>=32&&r<=126&&(t.size=n.length+2),void(8===r&&(t.size=n.length?n.length:1)))}};t.Terminal=i}(window,window.document)},{"./commands":2}]},{},[4]);
